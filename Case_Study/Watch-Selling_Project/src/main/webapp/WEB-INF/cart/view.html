<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Gi·ªè h√†ng</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"/>
</head>
<body>

<!-- Navbar -->
<div th:replace="layout/navbar :: navbar"></div>

<!-- Main Content -->
<div class="container mt-4">
  <h2 class="mb-4">üõí Gi·ªè h√†ng c·ªßa b·∫°n</h2>

  <!-- N·∫øu gi·ªè h√†ng tr·ªëng -->
  <div th:if="${items.isEmpty()}" class="alert alert-warning" role="alert">
    Ch∆∞a c√≥ s·∫£n ph·∫©m n√†o trong gi·ªè h√†ng.
  </div>

  <!-- N·∫øu c√≥ s·∫£n ph·∫©m -->
  <div th:if="${!items.isEmpty()}">
    <table class="table table-bordered table-hover align-middle text-center">
      <thead class="table-dark">
      <tr>
        <th>S·∫£n ph·∫©m</th>
        <th>Gi√°</th>
        <th>S·ªë l∆∞·ª£ng</th>
        <th>T·ªïng</th>
        <th>Xo√°</th>
      </tr>
      </thead>
      <tbody>
      <tr th:each="item : ${items}">
        <td th:text="${item.watch.name}"></td>
        <td th:text="${#numbers.formatDecimal(item.watch.price, 0, 'COMMA', 2, 'POINT')} + ' ƒë'"></td>
        <td th:text="${item.quantity}"></td>
        <td th:text="${#numbers.formatDecimal(item.totalPrice, 0, 'COMMA', 2, 'POINT')} + ' ƒë'"></td>
        <td>
          <a class="btn btn-sm btn-danger"
             th:href="@{/cart/remove/{id}(id=${item.watch.id})}"
             onclick="return confirm('B·∫°n ch·∫Øc ch·∫Øn mu·ªën xo√° s·∫£n ph·∫©m n√†y kh·ªèi gi·ªè?')">Xo√°</a>
        </td>
      </tr>
      </tbody>
    </table>

    <!-- T·ªïng ti·ªÅn v√† n√∫t ƒë·∫∑t h√†ng -->
    <div class="d-flex justify-content-between align-items-center mt-3">
      <h5 class="text-primary">T·ªïng c·ªông:
        <span th:text="${#numbers.formatDecimal(total, 0, 'COMMA', 2, 'POINT')} + ' ƒë'"></span>
      </h5>
      <a class="btn btn-success" th:href="@{/order/checkout}">‚úÖ Ti·∫øn h√†nh ƒë·∫∑t h√†ng</a>
    </div>
  </div>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>

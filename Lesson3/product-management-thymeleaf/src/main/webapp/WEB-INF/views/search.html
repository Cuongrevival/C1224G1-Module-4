<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments :: head('Tìm kiếm sản phẩm')"></head>
<body>
<div th:replace="fragments :: content">
  <h1>Tìm sản phẩm theo tên</h1>

  <form th:action="@{/products/search}" method="get">
    Tên sản phẩm: <input type="text" name="name"/>
    <button type="submit">Tìm</button>
  </form>

  <p th:if="${message}" th:text="${message}" style="color: red;"></p>

  <div th:if="${products}">
    <h2>Kết quả tìm kiếm:</h2>
    <table class="table table-striped table-bordered">
      <thead class="table-dark">
      <tr>
        <th>ID</th>
        <th>Tên</th>
        <th>Giá</th>
        <th>Số lượng</th>
      </tr>
      </thead>
      <tbody>
      <tr th:each="product : ${products}">
        <td th:text="${product.id}"></td>
        <td th:text="${product.name}"></td>
        <td th:text="${#numbers.formatDecimal(product.price, 0, 'POINT', ',', '.')} + ' đ'"></td>
        <td th:text="${product.currentQuantity}"></td>
      </tr>
      </tbody>
    </table>
  </div>

  <a th:href="@{/products}">Quay lại</a>
</div>
<footer th:replace="fragments :: footer"></footer>
</body>
</html>
